using UnityEngine;
using System.Collections;

public static class SceneDataManager {
	//public static GameObject player;
	//public static GameObject inventory;

	public static class ProfessorOfficeData{
		public static Vector2 playerPosition = new Vector2(236.0f, 68.5f);
		public static bool isWindowsClosed = false;
	}
	
	public static class CorridorData{
		public static Vector2 playerPosition = new Vector2(61.2f, 62.1f);
		public static bool hasNPCBeenTalkedBefore = false;
		public static int timesTrashBinHasBeenSearched = 0;
	}

	//public static ProfessorOfficeData professorOfficeInfo;
	//public static CorridorData corridorInfo;

	/*
	// Use this for initialization
	void Start () {
		Debug.Log("Current Scene: " + Application.loadedLevelName + " Number:" + Application.loadedLevel.ToString());
		professorOfficeInfo = new ProfessorOfficeData();
		professorOfficeInfo.playerPosition = new Vector2(236.0f, 68.5f);
		corridorInfo = new CorridorData();
		corridorInfo.playerPosition = new Vector2(61.2f, 62.1f);
	}
	
	// Update is called once per frame
	void Update () {
	
	}
	*/

	public static void ChangeScene(int originalScene, int finalScene){
		SaveScene(originalScene);
		Debug.Log("Preload new scene");
		Application.LoadLevel(finalScene);
		Debug.Log("Loaded new scene");
		LoadScene(finalScene);
	}

	public static void SaveScene(int scene){
		switch(scene){
		default:
			break;
		case 0: 
			//professorOfficeInfo.isWindowsClosed = GameObject.Find("Window").GetComponent<Window>().isWindowsClosed;
			//professorOfficeInfo.playerPosition = GameObject.Find("Player").GetComponent<Transform>().position;
			ProfessorOfficeData.playerPosition = GameObject.Find("Player").GetComponent<Transform>().position;
			break;
		case 1: 
			//corridorInfo.timesTrashBinHasBeenSearched = GameObject.Find("TrashBin").GetComponent<TrashBin>().timesTrashBinHasBeenInteracted;
			//corridorInfo.playerPosition = GameObject.Find("Player").GetComponent<Transform>().position;
			CorridorData.playerPosition = GameObject.Find("Player").GetComponent<Transform>().position;
			break;
		}
	}

	public static void LoadScene(int scene){
		//GameObject.Find("Player").GetComponent<Player>().inventory = GameObject.Find("Inventory");
		//GameObject.Find("Player").GetComponent<Player>().gameController = GameObject.Find("GameController");
		//GameObject.Find("GameController").GetComponent<MouseTargetingController>().playerGO = GameObject.Find("Player");
		switch(scene){
		default:
			break;
		case 0 :
			//EnableInventory();
			//GameObject.Find("Window").GetComponent<Window>().isWindowsClosed = professorOfficeInfo.isWindowsClosed;
			//GameObject.Find("Player").GetComponent<Transform>().position = professorOfficeInfo.playerPosition;
			//GameObject.Find("Window").GetComponent<Window>().isWindowsClosed = ProfessorOfficeData.isWindowsClosed;
			GameObject.Find("Player").GetComponent<Transform>().position = ProfessorOfficeData.playerPosition;
			break;
		case 1:
			//DisableInventory();
			//GameObject.Find("TrashBin").GetComponent<TrashBin>().timesTrashBinHasBeenInteracted = corridorInfo.timesTrashBinHasBeenSearched;
			//GameObject.Find("Player").GetComponent<Transform>().position = corridorInfo.playerPosition;
			//GameObject.Find("TrashBin").GetComponent<TrashBin>().timesTrashBinHasBeenInteracted = CorridorData.timesTrashBinHasBeenSearched;
			GameObject.Find("Player").GetComponent<Transform>().position = CorridorData.playerPosition;
			break;
		}
	}

	public static void DisableInventory(){
		GameObject.Find("Inventory").SetActive(false);
	}

	public static void EnableInventory(){
		GameObject.Find("Inventory").SetActive(true);
	}

	public static void DisablePlayer(){
		GameObject.Find("Player").SetActive(false);
	}

	public static void EnablePlayer(){
		GameObject.Find("Player").SetActive(true);
	}
}
