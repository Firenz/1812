/*	This file is part of 1812: La aventura.

    1812: La aventura is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    1812: La aventura is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with 1812: La aventura.  If not, see <http://www.gnu.org/licenses/>.
*/

using UnityEngine;
using System.Collections;

public class OpenCloseInventory : MonoBehaviour {
	
	private bool isClosedInventory = true;
	private bool isClickedInventory = false;
	private float speedInOpeningInventory = 1.5f;

	// Use this for initialization
	void Start () {
	
	}
	
	// Update is called once per frame
	void Update () {
		if(isClickedInventory){
			if(isClosedInventory){
				if(this.transform.position.y < 30f){
					this.transform.position = new Vector3( 0.0f , this.transform.position.y + speedInOpeningInventory, 0.0f);
				}
				else{
					OpenedInventory();
				}
			}
			else{
				if(this.transform.position.y > 0f){
					this.transform.position = new Vector3( 0.0f , this.transform.position.y - speedInOpeningInventory, 0.0f);
				}
				else{
					ClosedInventory();
				}
			}
		}

	}

	public void OpenedInventory(){
		isClosedInventory = false;
		isClickedInventory = false;
		transform.Find("ClosedInventory").GetComponent<SpriteRenderer>().enabled = false;
	}

	public void ClosedInventory(){
		isClosedInventory = true;
		isClickedInventory = false;
		transform.Find("ClosedInventory").GetComponent<SpriteRenderer>().enabled = true;
	}



	void OnMouseDown() {
		isClickedInventory = true;
	}
}
